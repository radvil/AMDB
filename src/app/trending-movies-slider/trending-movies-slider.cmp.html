@if(movies(); as movies) {
<div
  id="amdb-swiper-main"
  class="overflow-hidden relative h-full w-full md:w-[67%]"
>
  <swiper-container
    #swiperView
    effect="fade"
    autoplay="true"
    navigation="true"
    pagination="false"
    thumbs-swiper="#amdb-swiper-thumbs"
    navigation-prev-el=".amdb-swiper-nav-prev"
    navigation-next-el=".amdb-swiper-nav-next"
  >
    @for(item of movies.values; track item.id) {
    <swiper-slide class="bg-center bg-cover">
      <figure class="slide-item">
        <img
          [src]="imageBaseUrl + '1280' + item.backdrop_path"
          class="rounded-[inherit]"
          [alt]="item.title"
          [width]="1280"
          [height]="720"
        />
        <div class="backdrop-active size-full absolute top-0 left-0"></div>
        <div class="thumb-active absolute bottom-0 w-full">
          <app-movie-thumb-preview [data]="item" class="md:p-4">
            <ng-template #thumbTitle>
              <p
                class="font-semibold text-xl md:text-4xl my-2 text-gray-800 dark:text-white"
              >
                {{ item.title }}
              </p>
            </ng-template>
            <ng-template #thumbDescription>
              <p class="text-sm font-bold my-2">
                {{ getVote(item) }} ⭐⭐⭐⭐⭐
              </p>
              <p class="text-sm md:text-lg dark:text-gray-300 line-clamp-3">
                {{ item.overview }}
              </p>
            </ng-template>
          </app-movie-thumb-preview>
        </div>
      </figure>
    </swiper-slide>
    }
  </swiper-container>
  <a
    aria-label="previous"
    aria-disabled="false"
    (click)="swiper.slidePrev()"
    class="amdb-swiper-nav-prev left-2"
  >
    <fast-svg name="nav-prev" size="24" />
  </a>
  <a
    aria-label="next"
    aria-disabled="false"
    (click)="swiper.slideNext()"
    class="amdb-swiper-nav-next right-2"
  >
    <fast-svg name="nav-next" size="24" />
  </a>
</div>

<swiper-container
  id="amdb-swiper-thumbs"
  class="hidden md:block w-1/3 z-30 border border-gray-500/30 shadow rounded bg-gradient-to-b from-gray-50/80 to-gray-100/50 dark:from-gray-800/50 dark:to-gray-950/50"
  watch-slides-progress="true"
  direction="vertical"
  slides-per-view="3"
  space-between="10"
  free-mode="true"
>
  @for(movie of movies.values; track movie.id) {
  <swiper-slide class="thumb-slide p-4">
    <app-movie-thumb-preview [data]="movie" [width]="185" [height]="278" />
  </swiper-slide>
  }
</swiper-container>
}

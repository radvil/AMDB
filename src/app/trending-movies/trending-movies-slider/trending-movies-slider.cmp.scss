@use "../../../styles/mixins" as *;

:host {
  --nav-icon-height: 66px;
  --nav-icon-width: 50px;
  --slider-height: 55svh;
  height: var(--slider-height);
  @apply flex gap-4;
}

@mixin nav-button {
  z-index: 2;
  width: var(--nav-icon-width);
  height: var(--nav-icon-height);
  top: calc((var(--slider-height) - var(--nav-icon-height)) / 2);
  @apply hidden md:flex items-center justify-center
  absolute
  text-slate-50/90 hover:text-sky-500
  bg-slate-900/20
  rounded-md
  border border-slate-50/60
  cursor-pointer;
  @include fade-sm();
}

.amdb-swiper-nav-prev {
  @include nav-button();
  left: 0.5rem;
}

.amdb-swiper-nav-next {
  @include nav-button();
  right: 0.5rem;
}

#amdb-swiper-main {
  overflow: hidden;
  position: relative;
  height: 100%;

  @apply w-full md:w-[67%];

  &::part(bullet-active) {
    background-color: white;
  }

  swiper-slide {
    background-position: center;
    background-size: cover;
  }

  @mixin gradientbackdrop {
    @apply bg-gradient-to-t
      from-white from-10% via-white/60 via-35% to-transparent to-70%
      dark:from-slate-900 dark:from-10% dark:via-slate-900/70 dark:via-40% dark:to-transparent dark:to-70%;
  }

  .slide-item {
    max-height: var(--slider-height);
    @apply rounded overflow-clip relative;

    img {
      width: 100%;
      object-fit: cover;
      border-radius: inherit;
    }

    .backdrop-active {
      @include gradientbackdrop();
      @apply h-full
      w-full
      absolute
      bottom-0
      left-0;
    }

    .thumb-active {
      @include gradientbackdrop();
      @apply absolute bottom-0 w-full;
      app-movie-thumb-preview {
        @apply md:p-4;
      }
    }
  }
}

#amdb-swiper-thumbs {
  @apply hidden md:block
  w-1/3
  z-30
  border
  border-slate-500/30
  shadow
  rounded
  bg-gradient-to-b
  from-slate-50/80
  to-slate-100/50
  dark:from-slate-800/50
  dark:to-slate-950/50;

  &::part(container) {
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }

  .thumb-slide {
    app-movie-thumb-preview {
      @apply p-4;
    }

    &:nth-child(odd) {
      app-movie-thumb-preview {
        @apply bg-slate-200/50 dark:bg-slate-600/10;
      }
    }
  }
}

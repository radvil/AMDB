<div
  [class.opacity-0]="!opened()"
  (click)="closeBackdrop($event)"
  class="fixed top-0 left-0 w-screen h-screen z-[999] bg-white/60 dark:bg-gray-900/50 p-8 backdrop-blur"
>
  <div class="max-w-screen-lg mx-auto mt-20 lg:px-4">
    <div
      #dialog
      class="bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg select-none shadow"
    >
      <div class="w-full py-2 px-4 flex items-center gap-2">
        <fast-svg name="search" />
        <input
          #inputView
          [formControl]="searchForm"
          class="appearance-none block w-full rounded-lg py-2 px-4 text-gray-700 dark:text-gray-200 focus:outline-none dark:bg-transparent"
          aria-autocomplete="both"
          autocomplete="off"
          autocorrect="off"
          autocapitalize="off"
          enterkeyhint="go"
          spellcheck="false"
          maxlength="64"
          type="search"
          placeholder="Search..."
        />
      </div>
      @if(results().length) {
      <div class="border-t border-gray-100 dark:border-gray-700">
        <p class="font-semibold text-hero tracking-wider p-4">Results</p>
        <div class="bg-white dark:bg-gray-800 max-h-[50svh] overflow-y-auto">
          @for(item of results(); track $index) {
          <div
            (click)="openResult(item)"
            class="flex gap-2 items-center justify-between p-4 cursor-pointer transition-colors {{ $even ? 'bg-gray-50 dark:bg-gray-900/50': '' }} hover:!bg-orange-500/10 "
          >
            <span class="w-full">{{ item.title }}</span>
            @for(cat of item.categories; track $index) {
            <div class="badge text-xs font-semibold">
              <span class="py-1 px-3 rounded bg-gray-900 text-white">
                {{ cat }}
              </span>
            </div>
            }
          </div>
          }
        </div>
      </div>
      }
    </div>
  </div>
</div>

